{"version":3,"sources":["models/Event.js","store/index.js","components/Event.js","components/Day.js","components/Calendar.js","components/DraggableEvent.js","components/Draggables.js","components/Navigation.js","views/Main.js","App.js","serviceWorker.js","index.js"],"names":["Event","startDate","endDate","type","description","Object","classCallCheck","this","moment","updateLocale","mk","exampleEvent","set","year","month","day","hour","minutes","exampleEvent2","Store","currentDate","eventData","2019","2","23","eventsForDay","newEvent","length","some","eventInDay","isAfter","currentDay","get","slice","sort","a","b","date","event","_this","Promise","resolve","reject","_this$currentDate$toO","toObject","years","months","seconds","milliseconds","_isEventOverlapping","push","clone","_sortEvents","filter","e","originalEvent","updatedEvent","_this2","arrayWithoutOriginal","ev","map","add","subtract","_this3","computed","format","startingDay","startOf","isoWeekday","daysInMonth","eventsInMonth","weekdays","decorate","observable","setCurrentMonth","action","setCurrentYear","addMonth","subtractMonth","removeEvent","navigationDateFormat","beautifulFormat","dayNames","store","_calculateBorder","components_Event","_ref","onRemoveEvent","onOpenModal","react_default","createElement","className","concat","style","padding","onDoubleClick","aria-hidden","fontSize","lineHeight","float","cursor","onClick","spec","canDrop","props","active","drop","monitor","component","setState","modalState","_openModal","createNewEventbyType","getItem","DropTarget","connect","connectDropTarget","dropTarget","isOver","observer","_Component","Day","possibleConstructorReturn","getPrototypeOf","call","eventsInDay","state","modalOpened","currentEvent","inherits","createClass","key","value","userSelect","width","index","_removeEvent","addEventOnDay","then","succ","toast","success","catch","err","error","updateEvent","from","to","hours","hour24","minute","classes","join","_determineClasses","_calculateStyles","_renderEvents","react_modal_lib_default","isOpen","ariaHideApp","overlayClassName","modalBorderColor","toUpperCase","react_timekeeper_lib_default","time","onChange","newTime","_updateCurrentEvent","name","cols","rows","currentTarget","marginRight","_closeModal","Component","Calendar","apply","arguments","dayName","justifyContent","alignItems","marginTop","Math","random","toString","substring","monthData","_this$props$monthData","inactiveDaysBefore","Array","components_Day","_randomKeyGenerator","activeDays","_","i","daysDisplayed","inactiveDaysAfter","toConsumableArray","display","flexWrap","_renderDayNames","_renderDays","DraggableEvent","connectDragSource","eventType","charAt","DragSource","beginDrag","endDrag","dragSource","isDragging","Draggables","draggablesRef","React","createRef","ticking","window","requestAnimationFrame","current","scrollY","addEventListener","_scrollListenerFunction","_this4","removeEventListener","ref","transition","styles","draggablesBody","components_DraggableEvent","height","flexDirection","withRouter","Navigation","history","prevDate","middleText","nextDate","Main","match","params","Draggables_Draggables","components_Navigation","components_Calendar","assign","DragDropContext","HTML5Backend","App","BrowserRouter","Route","exact","path","lib","autoClose","Boolean","location","hostname","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.1776b350.chunk.js","sourcesContent":["import moment from \"moment\";\r\n\r\nexport default class Event {\r\n  constructor(startDate, endDate, type, description){\r\n    this.startDate = startDate;\r\n    this.endDate = endDate;\r\n    this.type = type;\r\n    this.description = description;\r\n  }\r\n\r\n  clone(){\r\n    return new Event(new moment(this.startDate), new moment(this.endDate), this.type, this.description);\r\n  }\r\n\r\n  startDate = null;\r\n  endDate = null;\r\n  type = null;\r\n  description = null;\r\n}","import { observable, computed, action, decorate } from 'mobx';\r\nimport { get, set } from 'lodash';\r\nimport Event from '../models/Event';\r\nimport moment from 'moment';\r\nimport mk from 'moment/locale/mk'\r\nmoment.updateLocale('mk', mk);\r\n\r\nconst exampleEvent = new Event(\r\n  new moment().set({\r\n    year: 2019,\r\n    month: 2,\r\n    day: 23,\r\n    hour: 1,\r\n    minutes: 0\r\n  }),\r\n  new moment().set({\r\n    year: 2019,\r\n    month: 2,\r\n    day: 23,\r\n    hour: 2,\r\n    minutes: 0\r\n  }),\r\n  'outdoor',\r\n  'Ова е пример Настан'\r\n)\r\n\r\nconst exampleEvent2 = new Event(\r\n  new moment().set({\r\n    year: 2019,\r\n    month: 2,\r\n    day: 23,\r\n    hour: 2,\r\n    minutes: 0\r\n  }),\r\n  new moment().set({\r\n    year: 2019,\r\n    month: 2,\r\n    day: 23,\r\n    hour: 3,\r\n    minutes: 0\r\n  }),\r\n  'social',\r\n  'Ова е пример Настан2'\r\n)\r\n\r\nclass Store {\r\n  currentDate = moment();\r\n  eventData = {\r\n    '2019': {\r\n      '2': {\r\n        '23': [exampleEvent, exampleEvent2]\r\n      }\r\n    }\r\n  };\r\n\r\n  _isEventOverlapping(eventsForDay, newEvent) {\r\n    if (eventsForDay.length === 0) {\r\n      return false;\r\n    }\r\n\r\n    //barem edno da vrati true rezultatot e deka ima konflikt\r\n    return eventsForDay.some(eventInDay => {\r\n\r\n      //pocnal pred a zavrsil posle start na postoeckiot event\r\n      if (eventInDay.startDate.isAfter(newEvent.startDate) && newEvent.endDate.isAfter(eventInDay.startDate)) {\r\n        return true;\r\n      }\r\n      //pocnal pred a zavrsil posle end na postoeckiot event\r\n      if (eventInDay.endDate.isAfter(newEvent.startDate) && newEvent.endDate.isAfter(eventInDay.endDate)) {\r\n        return true;\r\n      }\r\n      //edniot e vo drugiot\r\n      if (eventInDay.startDate.isAfter(newEvent.startDate) && newEvent.endDate.isAfter(eventInDay.endDate)) {\r\n        return true\r\n      }\r\n\r\n      return false;\r\n    })\r\n\r\n  }\r\n\r\n  _sortEvents(currentDay) {\r\n    let eventsForDay = get(this.eventData, [this.currentDate.year(), this.currentDate.month() + 1, currentDay], []);\r\n\r\n    eventsForDay = eventsForDay.slice().sort((a, b) => {\r\n      if (!a.startDate.isAfter(b.startDate)) {\r\n        return -1\r\n      } else {\r\n        return 1\r\n      }\r\n    });\r\n\r\n    set(this.eventData, [this.currentDate.year(), this.currentDate.month() + 1, currentDay], eventsForDay);\r\n  }\r\n\r\n  addEventOnDay(date, event) {\r\n    return new Promise((resolve, reject) => {\r\n      if (!get(this.eventData, [], null)) {\r\n        if (!event.endDate.isAfter(event.startDate)) {\r\n          reject('Почетното време треба да е помало од крајното.')\r\n          return;\r\n        } else {\r\n          let { years: year, months: month } = this.currentDate.toObject()\r\n          month++;\r\n\r\n          if (!this.eventData[year]) {\r\n            this.eventData[year] = {};\r\n          }\r\n\r\n          if (!this.eventData[year][month]) {\r\n            this.eventData[year][month] = {}\r\n          }\r\n\r\n          if (!this.eventData[year][month][date]) {\r\n            this.eventData[year][month][date] = [];\r\n          }\r\n\r\n          event.startDate.seconds(0).milliseconds(0);\r\n          event.endDate.seconds(0).milliseconds(0);\r\n\r\n          let eventsForDay = get(this.eventData, [this.currentDate.year(), this.currentDate.month() + 1, date], []);\r\n          let isOverlapping = this._isEventOverlapping(eventsForDay, event);\r\n\r\n          if (isOverlapping) {\r\n            reject('Има преклопување на настани')\r\n          } else {\r\n            this.eventData[year][month][date].push(event.clone())\r\n            this._sortEvents(date);\r\n            resolve('Додавањето беше успешно.')\r\n          }\r\n        }\r\n      }\r\n    })\r\n\r\n  }\r\n\r\n  removeEvent(currentDay, event) {\r\n    let eventsForDay = get(this.eventData, [this.currentDate.year(), this.currentDate.month() + 1, currentDay], []);\r\n\r\n    eventsForDay = eventsForDay.filter(e => e !== event);\r\n\r\n    set(this.eventData, [this.currentDate.year(), this.currentDate.month() + 1, currentDay], eventsForDay);\r\n  }\r\n\r\n  updateEvent(currentDay, originalEvent, updatedEvent) {\r\n    return new Promise((resolve, reject) => {\r\n      if(updatedEvent.startDate.isAfter(updatedEvent.endDate)){\r\n        reject('Според квантната теорија времето може да тече назад, но во случајов тоа е недозволена операција.')\r\n      }\r\n      let eventsForDay = get(this.eventData, [this.currentDate.year(), this.currentDate.month() + 1, currentDay], null);\r\n\r\n      let arrayWithoutOriginal = eventsForDay.filter(ev => ev !== originalEvent);\r\n\r\n      let isOverlapping = this._isEventOverlapping(arrayWithoutOriginal, updatedEvent);\r\n\r\n      if (isOverlapping) {\r\n        reject('Настанот неможе да се смени поради преклопување со друг настан.')\r\n        return;\r\n      } else {\r\n        eventsForDay = eventsForDay.map(e => {\r\n          if (e === originalEvent) {\r\n            return updatedEvent.clone()\r\n          }\r\n\r\n          return e;\r\n        });\r\n\r\n        set(this.eventData, [this.currentDate.year(), this.currentDate.month() + 1, currentDay], eventsForDay);\r\n        this._sortEvents(currentDay)\r\n        resolve('Успешна промена.');\r\n      }\r\n    })\r\n  }\r\n\r\n  createNewEventbyType(type) {\r\n    return new Event(new moment(), new moment(), type, '')\r\n  }\r\n\r\n  setCurrentYear(year) {\r\n    this.currentDate.year(year);\r\n  }\r\n\r\n  setCurrentMonth(month) {\r\n    this.currentDate.month(--month);\r\n  }\r\n\r\n  addMonth() {\r\n    this.currentDate = this.currentDate.add(1, 'months');\r\n  }\r\n\r\n  subtractMonth() {\r\n    this.currentDate = this.currentDate.subtract(1, 'months');\r\n  }\r\n\r\n  get navigationDateFormat() {\r\n    return this.currentDate.format(\"/YYYY/M\");\r\n  }\r\n\r\n  get beautifulFormat() {\r\n    return this.currentDate.format(\"MMMM - YYYY\");\r\n  }\r\n\r\n  get monthData() {\r\n    return {\r\n      startingDay: this.currentDate.startOf('month').isoWeekday(),\r\n      daysInMonth: this.currentDate.daysInMonth(),\r\n      eventsInMonth: get(this.eventData, [this.currentDate.year(), this.currentDate.month() + 1], [])\r\n    }\r\n  }\r\n\r\n  get dayNames() {\r\n    return moment.weekdays();\r\n  }\r\n\r\n  eventsInDay(day) {\r\n    return computed(() => {\r\n      return get(this.eventData, [this.currentDate.year(), this.currentDate.month() + 1, ++day], [])\r\n    }).get()\r\n  }\r\n}\r\n\r\ndecorate(Store, {\r\n  eventData: observable,\r\n  setCurrentMonth: action,\r\n  setCurrentYear: action,\r\n  addMonth: action,\r\n  subtractMonth: action,\r\n  removeEvent: action,\r\n  navigationDateFormat: computed,\r\n  beautifulFormat: computed,\r\n  dayNames: computed\r\n})\r\n\r\nconst store = new Store();\r\n\r\nexport default store;","import React from 'react';\r\n\r\nconst _calculateBorder = (type) => {\r\n  switch (type) {\r\n    case 'outdoor':\r\n      return 'bg-success text-white'\r\n    case 'social':\r\n      return 'bg-warning text-dark'\r\n    case 'learning':\r\n      return 'bg-info text-white';\r\n    case 'general':\r\n      return 'bg-secondary text-white'\r\n  }\r\n}\r\n\r\nexport default ({ event, onRemoveEvent, onOpenModal }) => {\r\n  return (\r\n    <li\r\n      className={`list-group-item ${_calculateBorder(event.type)}`}\r\n      style={{ padding: '2px' }}\r\n      onDoubleClick={() => onOpenModal(event)}\r\n    >\r\n      <span>{event.startDate.format('HH:mm')} - {event.endDate.format('HH:mm')}</span>\r\n\r\n      <span aria-hidden=\"true\"\r\n        style={{ fontSize: '20px', lineHeight: 1, float: 'right', cursor: 'pointer' }}\r\n        onClick={() => onRemoveEvent(event)}>&times;</span>\r\n    </li>\r\n  )\r\n}","import React, { Component } from 'react';\r\nimport Store from '../store';\r\nimport { observer } from 'mobx-react';\r\nimport Modal from 'react-modal';\r\nimport Event from './Event';\r\nimport Timekeeper from 'react-timekeeper';\r\nimport { toast } from 'react-toastify';\r\nimport { DropTarget } from 'react-dnd';\r\n\r\nconst spec = {\r\n  canDrop(props) {\r\n    return props.active;\r\n  },\r\n  drop(props, monitor, component) {\r\n    component.setState({ modalState: 'save' })\r\n    component._openModal(Store.createNewEventbyType(monitor.getItem().props.type))\r\n  }\r\n}\r\n\r\nconst collect = (connect, monitor) => {\r\n  return {\r\n    connectDropTarget: connect.dropTarget(),\r\n    isOver: monitor.isOver(),\r\n    canDrop: monitor.canDrop()\r\n  }\r\n}\r\n\r\nexport default DropTarget('DraggableEvent', spec, collect)(observer(class Day extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.active = this.props.active;\r\n    this.currentDay = this.props.currentDay;\r\n    this.eventsInDay = this.props.eventsInDay;\r\n\r\n    this.state = { modalOpened: false, currentEvent: null, originalEvent: null, modalState: 'update' };\r\n  }\r\n  _calculateStyles() {\r\n    return {\r\n      cursor: this.active ? 'default' : 'not-allowed',\r\n      userSelect: this.active ? '' : 'none',\r\n      width: 'calc(100% / 7)'\r\n    }\r\n  }\r\n\r\n  _removeEvent(event) {\r\n    Store.removeEvent(this.currentDay, event);\r\n  }\r\n\r\n  _renderEvents() {\r\n    if (this.eventsInDay) {\r\n      return this.eventsInDay.map((event, index) => {\r\n        return (\r\n          <Event key={index}\r\n            event={event}\r\n            onRemoveEvent={(event) => this._removeEvent(event)}\r\n            onOpenModal={(event) => this._openModal(event)}\r\n          />\r\n        )\r\n      })\r\n    }\r\n  }\r\n\r\n  _openModal(event) {\r\n    this.setState({ modalOpened: true })\r\n    this.setState({ originalEvent: event })\r\n    this.setState({ currentEvent: event.clone() })\r\n\r\n  }\r\n\r\n  _closeModal(action) {\r\n    if (action === 'save') {\r\n      Store.addEventOnDay(this.currentDay, this.state.currentEvent)\r\n        .then(succ => {\r\n          toast.success(succ);\r\n        }).catch(err => {\r\n          toast.error(err)\r\n        })\r\n      this.setState({ modalState: 'update' })\r\n    } else if (action === 'update') {\r\n      Store.updateEvent(this.currentDay, this.state.originalEvent, this.state.currentEvent)\r\n        .then(succ => {\r\n          toast.success(succ)\r\n        }).catch(err => {\r\n          toast.error(err)\r\n        })\r\n    }\r\n\r\n    this.setState({ modalOpened: false })\r\n    this.setState({ currentEvent: null })\r\n  }\r\n\r\n  _updateCurrentEvent({ from, to, description }) {\r\n    let newEvent = this.state.currentEvent.clone();\r\n\r\n    if (from) {\r\n      newEvent.startDate.hours(from.hour24);\r\n      newEvent.startDate.minutes(from.minute);\r\n    }\r\n    if (to) {\r\n      newEvent.endDate.hours(to.hour24);\r\n      newEvent.endDate.minutes(to.minute);\r\n    }\r\n    if (description) {\r\n      newEvent.description = description;\r\n    }\r\n\r\n    this.setState({ currentEvent: newEvent })\r\n  }\r\n\r\n  _determineClasses() {\r\n    let classes = ['card rounded-0'];\r\n\r\n    if (this.active) {\r\n      classes.push('border-primary');\r\n      if (this.props.canDrop) {\r\n        classes.push('border-success')\r\n      }\r\n      if (this.props.isOver && this.props.canDrop) {\r\n        classes.push('bg-success')\r\n      } else {\r\n        classes.push('bg-white')\r\n      }\r\n    } else {\r\n      classes.push('border-secundary text-muted')\r\n      if (!this.props.canDrop && this.props.isOver) {\r\n        classes.push('bg-danger')\r\n      } else {\r\n        classes.push('bg-light')\r\n      }\r\n    }\r\n\r\n    return classes.join(' ')\r\n  }\r\n\r\n  modalBorderColor(type) {\r\n    switch (type) {\r\n      case 'outdoor':\r\n        return 'border-success';\r\n      case 'social':\r\n        return 'border-warning';\r\n      case 'learning':\r\n        return 'border-info';\r\n      case 'general':\r\n        return 'border-secondary'\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { connectDropTarget } = this.props;\r\n\r\n    return connectDropTarget(\r\n      <div\r\n        className={this._determineClasses()}\r\n        style={this._calculateStyles()}>\r\n        <div className={'card-body customize-card'}>\r\n          <div className={'card-title text-center'}>{this.currentDay}</div>\r\n          <div className={'card-text text-center'}>\r\n            <ul className={'list-group'}>\r\n              {this._renderEvents()}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n        <Modal\r\n          isOpen={this.state.modalOpened}\r\n          ariaHideApp={false}\r\n          overlayClassName={'modal-overlay'}\r\n          className={'align-middle col-8 offset-2 modal-class'}\r\n        >\r\n          <div className={`card ${this.modalBorderColor(this.state.currentEvent && this.state.currentEvent.type)}`}>\r\n            <div className={'card-header text-center'}>{this.state.currentEvent && this.state.currentEvent.type.toUpperCase() + ' НАСТАН'}</div>\r\n            <div className={'card-body row'}>\r\n              <div className={'col-4'}>\r\n                <div className={'text-center'}>Од: </div>\r\n                <Timekeeper\r\n                  time={this.state.currentEvent && this.state.currentEvent.startDate.format('HH:mm')}\r\n                  onChange={newTime => this._updateCurrentEvent({ from: newTime })} />\r\n              </div>\r\n              <div className={'col-4'}>\r\n                <div className={'text-center'}>До:</div>\r\n                <Timekeeper\r\n                  time={this.state.currentEvent && this.state.currentEvent.endDate.format('HH:mm')}\r\n                  onChange={newTime => this._updateCurrentEvent({ to: newTime })} />\r\n              </div>\r\n              <div className={'col-4'}>\r\n                <div className={'text-center'}>Опис: </div>\r\n                <textarea className={'form-control'} name=\"event_description\" cols=\"30\" rows=\"10\"\r\n                  value={(this.state.currentEvent && this.state.currentEvent.description) || ''}\r\n                  onChange={(e) => { this._updateCurrentEvent({ description: e.currentTarget.value }) }}>\r\n                </textarea>\r\n              </div>\r\n            </div>\r\n            <div className=\"card-footer text-right\">\r\n              <button className={'btn btn-danger'} style={{ marginRight: '15px' }} onClick={() => { this._removeEvent(this.state.originalEvent) }}>\r\n                {this.state.modalState === 'save' ? 'Откажи' : 'Избриши'}\r\n              </button>\r\n              <button className={'btn btn-primary'} onClick={() => { this._closeModal(this.state.modalState) }}>\r\n                {this.state.modalState === 'save' ? 'Додади' : 'Смени'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </Modal>\r\n      </div>\r\n    )\r\n  }\r\n\r\n}))","import React, { Component } from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport Day from './Day'\r\nimport Store from '../store';\r\n\r\nexport default observer(class Calendar extends Component {\r\n\r\n  _renderDayNames() {\r\n    return Store.dayNames.map((dayName, index) => (\r\n      <div key={index} className={'bg-secondary text-white text-center'}\r\n        style={{ width: 'calc(100% / 7)', justifyContent: 'center', alignItems: 'center', marginTop: '10px' }}>\r\n        <h6>{dayName}</h6>\r\n      </div>\r\n    ))\r\n  }\r\n\r\n  _randomKeyGenerator() {\r\n    return Math.random().toString(36).substring(7);\r\n  }\r\n\r\n  _renderDays() {\r\n    if (this.props.monthData) {\r\n      let { startingDay, daysInMonth, eventsInMonth } = this.props.monthData;\r\n\r\n      const inactiveDaysBefore = Array.apply(null, Array(startingDay))\r\n        .map(() => (<Day key={this._randomKeyGenerator()} active={false} />))\r\n\r\n      const activeDays = Array.apply(null, Array(daysInMonth))\r\n        .map((_, i) => (\r\n          <Day key={this._randomKeyGenerator()} active={true} currentDay={i + 1} eventsInDay={eventsInMonth[i + 1]}></Day>\r\n        ))\r\n\r\n      let daysDisplayed = (startingDay + daysInMonth) > 35 ? 42 : 35;\r\n\r\n      const inactiveDaysAfter = Array.apply(null, Array(daysDisplayed - (startingDay + daysInMonth)))\r\n        .map(() => (<Day key={this._randomKeyGenerator()} active={false} />))\r\n\r\n      return [...inactiveDaysBefore, ...activeDays, ...inactiveDaysAfter]\r\n    } else {\r\n      return []\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div style={{ display: 'flex', flexWrap: 'wrap' }}>\r\n        {this._renderDayNames()}\r\n        {this._renderDays()}\r\n      </div>\r\n    )\r\n  }\r\n})","import React, { Component } from 'react';\r\nimport { DragSource } from 'react-dnd';\r\n\r\nconst spec = {\r\n  beginDrag(props) {\r\n    return { props };\r\n  },\r\n  endDrag(props, monitor) {\r\n    return { props }\r\n  }\r\n};\r\n\r\nfunction collect(connect, monitor) {\r\n  return {\r\n    connectDragSource: connect.dragSource(),\r\n    isDragging: monitor.isDragging()\r\n  }\r\n}\r\n\r\nclass DraggableEvent extends Component {\r\n  eventType(type) {\r\n    switch (type) {\r\n      case 'outdoor':\r\n        return 'btn-success';\r\n      case 'social':\r\n        return 'btn-warning';\r\n      case 'learning':\r\n        return 'btn-info';\r\n      case 'general':\r\n        return 'btn-secondary'\r\n    }\r\n  }\r\n  render() {\r\n    return this.props.connectDragSource(\r\n      <div className={`btn ${this.eventType(this.props.type)}`} style={{ width: '100%' }} >\r\n        {this.props.type.charAt(0).toUpperCase() + this.props.type.slice(1)}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default DragSource('DraggableEvent', spec, collect)(DraggableEvent);","import React, { Component } from 'react';\r\nimport DraggableEvent from './DraggableEvent';\r\n\r\nexport default class Draggables extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.draggablesRef = React.createRef();\r\n  }\r\n\r\n  _scrollListenerFunction() {\r\n    let ticking = false;\r\n\r\n    if (!ticking) {\r\n      window.requestAnimationFrame(() => {\r\n        this.draggablesRef.current.style.marginTop = window.scrollY + 15 + 'px';\r\n        ticking = false;\r\n      });\r\n\r\n      ticking = true;\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('scroll', () => this._scrollListenerFunction())\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('scroll', () => this._scrollListenerFunction())\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div ref={this.draggablesRef} className={'card border-primary'} style={{ marginTop: '15px', transition: '0.5s margin-top' }}>\r\n        <div className={'card-body'} style={styles.draggablesBody}>\r\n          <DraggableEvent type=\"outdoor\" />\r\n          <DraggableEvent type=\"social\" />\r\n          <DraggableEvent type=\"learning\" />\r\n          <DraggableEvent type=\"general\" />\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst styles = {\r\n  draggablesBody: {\r\n    height: '250px',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-evenly'\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom'\r\nimport Store from '../store'\r\n\r\nexport default withRouter(class Navigation extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.history = props.history;\r\n  }\r\n\r\n  nextDate() {\r\n    Store.addMonth();\r\n    this.history.push(Store.navigationDateFormat);\r\n  }\r\n\r\n  prevDate() {\r\n    Store.subtractMonth();\r\n    this.history.push(Store.navigationDateFormat);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className={'col-12'} style={{ marginTop: '15px' }}>\r\n        <div className={'row'}>\r\n          <button className={'btn btn-primary col-2'} onClick={() => { this.prevDate() }}>\r\n            <span>Претходен месец</span>\r\n          </button>\r\n\r\n          <div className={'col-8'} style={styles.middleText}>\r\n            <h3 className={'text-primary'}>{Store.beautifulFormat}</h3>\r\n          </div>\r\n\r\n          <button className={'btn btn-primary col-2'} onClick={() => { this.nextDate() }}>\r\n            <span>Следен месец</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n})\r\n\r\nconst styles = {\r\n  middleText: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center'\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport { observer } from \"mobx-react\";\r\nimport Calendar from '../components/Calendar'\r\nimport Draggables from '../components/Draggables'\r\nimport Navigation from '../components/Navigation'\r\nimport Store from '../store'\r\nimport HTML5Backend from 'react-dnd-html5-backend'\r\nimport { DragDropContext } from 'react-dnd'\r\n\r\nclass Main extends Component {\r\n  componentWillMount(){\r\n    if(!this.props.match.params.year && !this.props.match.params.month){\r\n      this.props.history.push(Store.navigationDateFormat)\r\n    }else{\r\n      Store.setCurrentMonth(this.props.match.params.month);\r\n      Store.setCurrentYear(this.props.match.params.year)\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n        <div className=\"container-fluid\">\r\n          <div className={'row'}>\r\n            <div className={'col-2'}>\r\n              <Draggables {...this.props} />\r\n            </div>\r\n\r\n            <div className={'col-10'}>\r\n              <Navigation {...this.props} />\r\n              <Calendar {...this.props} monthData={Store.monthData} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DragDropContext(HTML5Backend)(observer(Main));\r\n","import React, { Component } from 'react';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport { ToastContainer } from 'react-toastify';\nimport Main from './views/Main';\nimport './App.css';\nimport 'react-toastify/dist/ReactToastify.min.css';\n\nimport moment from 'moment';\nimport _ from 'lodash';\n\nwindow.moment = moment;\nwindow._ = _;\nclass App extends Component {\n\n  render() {\n    return (\n      <Router>\n        <div className=\"container-fluid\">\n          <Route exact path=\"/\" component={Main} />\n          <Route path=\"/:year/:month\" component={Main} />\n\n          <footer className={\"row\"}>\n            <div className={\"col text-center\"} style={{ padding: '20px 0' }}>Изработил: Стефан Дејановски</div>\n          </footer>\n\n          <ToastContainer autoClose={4000}/>\n        </div>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport store from './store'\n\nReactDOM.render(<App store={store}/>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}